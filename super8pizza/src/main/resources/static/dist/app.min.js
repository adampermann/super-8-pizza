!function(){angular.module("Super8PizzaApp",["ngRoute","order","orderManagement","inventoryListing","account","toastr","ngCookies"])}(),function(){"use-strict";var e=angular.module("Super8PizzaApp");e.config(["$locationProvider","$routeProvider","$httpProvider",function(e,r,t){e.html5Mode(!0),r.when("/",{templateUrl:"js/home/home.template.html"}).when("/ordering",{template:"<ordering></ordering>"}).when("/order/summary",{template:"<order-summary></order-summary>"}).when("/order/listing",{template:"<order-listing></order-listing>"}).when("/order/history",{template:"<order-history></order-history>"}).when("/inventory/listing",{template:"<inventory-listing></inventory-listing>"}).when("/login",{controller:"NavigationController",templateUrl:"js/home/login.template.html",controllerAs:"$ctrl"}).when("/register",{controller:"NavigationController",templateUrl:"js/home/register.template.html",controllerAs:"$ctrl"}).when("/account",{template:"<account></account>"}).otherwise("/")}]).config(function(e){angular.extend(e,{autoDismiss:!1,containerId:"toast-container",maxOpened:0,newestOnTop:!0,positionClass:"toast-top-center",preventDuplicates:!1,preventOpenDuplicates:!1,target:"body"})}).service("Session",["$cookies",function(e){var r=this;r.create=function(r){var t={user:r};e.putObject("user",t)},r.destroy=function(){e.putObject("user",null)},r.getCurrentUser=function(){var r=e.getObject("user");return null==r||void 0===r?null:r.user}}])}(),function(){"use-strict";function e(e,r,t,n,o,a){function i(){r.get("/getCompleteOrders").then(function(e){s.orders=e.data},function(e){a.error(e.data.message,"Error")})}var s=this;s.user=e.user,s.orders=[],s.confirmPass=e.user.password,s.updateAccount=function(){void 0===s.user.email||void 0===s.user.password||void 0===s.user.username||void 0===s.confirmPass?a.error("Please enter all required fields!","Error"):0==s.user.email.length||0==s.user.username.length||0==s.user.password.length||0==s.confirmPass.length?a.error("Please enter all required fields!","Error"):s.confirmPass!=s.user.password?a.error("Password and confirm password don't match","Error"):r.post("/updateAccount",s.user).then(function(r){var t=r.data;200==r.status?(e.user=t,e.displayName=t.username,e.authenticated=!0,2==e.user.role.id&&(e.isAdmin=!0),n.create(e.user),a.success("Account updated successfully!","Error")):a.error("Error updating account","Error")},function(e){a.error(e.data.message,"Error")})},s.cancelUpdate=function(){t.url("/")},s.orderAgain=function(e){o.setCart(e.orderItems),t.url("/ordering")},i()}var r=angular.module("account",[]);r.component("account",{templateUrl:"js/home/account.template.html",controller:"AccountController"}),r.controller("AccountController",e),e.$inject=["$rootScope","$http","$location","Session","orderingService","toastr"]}(),function(){"use-strict";function e(e,r,t,n,o,a){function i(e,t){r.post("/login",e).then(function(e){200==e.status?l(e.data):u(e.data.message),t&&t()},function(e){u(e.data.message),t&&t()})}function s(){e.isAdmin?t.url("/order/listing"):t.url("/")}function l(r){e.user=r,e.displayName=r.username,e.authenticated=!0,2==e.user.role.id&&(e.isAdmin=!0),n.create(e.user)}function u(r){e.authenticated=!1,e.isAdmin=!1,e.displayName="",a.error(r,"Error")}function c(){var r=n.getCurrentUser();null!=r&&i(r,function(){e.authenticated&&t.url("/")})}var d=this;d.user={username:"",password:"",email:"",joinKey:"",role:{},userId:"",address:{}},d.confirmPass="",e.user={},e.authenticated=!1,e.isAdmin=!1,d.login=function(){void 0===d.user.username||void 0===d.user.password?a.error("Please enter all required fields!","Error"):0==d.user.username.length||0==d.user.password.length?a.error("Please enter all required fields!","Error"):i(d.user,function(){e.authenticated?s():t.url("/login")})},d.register=function(){void 0===d.user.email||void 0===d.user.password||void 0===d.user.username||void 0===d.confirmPass?a.error("Please enter all required fields!","Error"):0==d.user.email.length||0==d.user.username.length||0==d.user.password.length||0==d.confirmPass.length?a.error("Please enter all required fields!","Error"):d.confirmPass!=d.user.password?a.error("Password and confirm password don't match","Error"):r.post("/register",d.user).then(function(e){200==e.status?(l(e.data),s()):u(e.data.message)},function(e){u(e.data.message)})},d.logout=function(){e.displayName="",e.authenticated=!1,e.isAdmin=!1,n.destroy(),o.clearCart(),o.clearOrder(),o.clearCustomPizza(),a.info("Successfully logged out","Info"),t.url("/")},c()}var r=angular.module("Super8PizzaApp");r.controller("NavigationController",e),e.$inject=["$rootScope","$http","$location","Session","orderingService","toastr"]}(),function(){"use-strict";angular.module("order",[])}(),function(){"use-strict";function e(e,r,t,n){function o(){a.order=n.getOrder(),a.address=a.order.address;var r=new Date(a.order.timestamp);a.order.readyTime=r.addHours(1).toLocaleTimeString("en-US"),a.calculateOrderTotal(),e.get("/getDeliveryOptions").then(function(e){a.deliveryOptions=e.data}),e.get("/getPaymentOptions").then(function(e){a.paymentOptions=e.data})}var a=this;a.title="Order Summary",a.order={},a.address={},a.orderTotal=0,a.deliveryOptions=[],a.paymentOptions=[],a.isDelivery=function(){return 1==a.order.orderType.id},a.getFormattedAddress=function(){return a.address.street+" "+a.address.city+" "+a.address.state+", "+a.address.zip},a.calculateOrderTotal=function(){for(var e=0,r=0;r<a.order.orderItems.length;++r)e+=a.order.orderItems[r].price*a.order.orderItems[r].quantity;a.orderTotal=t("currency")(e,"$",2)},a.confirmOrder=function(){n.clearOrder(),r.url("/")},a.getDeliveryMethodName=function(){for(var e=0;e<a.deliveryOptions.length;++e)if(a.deliveryOptions[e].id==a.order.orderType.id)return a.deliveryOptions[e].name},a.getPayMethodName=function(){for(var e=0;e<a.paymentOptions.length;++e)if(a.paymentOptions[e].id==a.order.paymentMethod.id)return a.paymentOptions[e].name},Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this},o()}var r=angular.module("order");r.component("orderSummary",{templateUrl:"js/order/order.summary.template.html",controller:"OrderSummaryController"}),r.controller("OrderSummaryController",e),e.$inject=["$http","$location","$filter","orderingService"]}(),function(){"use-strict";function e(e,r,t,n,o,a){function i(){r.get("/getMenu").then(function(e){s.menu=e.data,console.log(s.menu)}),r.get("/getDeliveryOptions").then(function(e){s.deliveryOptions=e.data}),r.get("/getPaymentOptions").then(function(e){s.paymentOptions=e.data});var t=o.getCart();if(null!=t?(s.cart=t,s.calculateCartTotal()):s.cart=[],e.authenticated){var n=e.user.address;angular.equals({},n)||(s.street=null==n.street?"":n.street,s.city=null==n.city?"":n.city,s.state=null==n.state?"":n.state,s.zip=null==n.zip?"":n.zip)}}var s=this;s.cart=[],s.menu=[],s.cartTotal=t("currency")(0,"$",2),s.deliveryOption=0,s.payOption=0,s.paymentOptions=[],s.deliveryOptions=[],s.cardNumber="",s.street="",s.city="",s.state="",s.zip="",s.addToCart=function(e){if(s.isOptionInCart(e))for(var r=0;r<s.cart.length;++r)s.cart[r].name==e.name&&(s.cart[r].quantity+=e.quantity);else s.cart.push(angular.copy(e));e.quantity=1,s.calculateCartTotal()},s.isOptionInCart=function(e){for(var r=0;r<s.cart.length;++r)if(s.cart[r].name==e.name)return!0;return!1},s.calculateCartTotal=function(){for(var e=0,r=0;r<s.cart.length;++r)e+=s.cart[r].price*s.cart[r].quantity;s.cartTotal=t("currency")(e,"$",2)},s.clearCart=function(){s.cart=[],s.calculateCartTotal()},s.isOrderValid=function(){var e=!0;return 1==s.deliveryOption?""!=s.street&&""!=s.city&&""!=s.state&&""!=s.zip||(e=!1):0==s.deliveryOption&&(e=!1),2==s.payOption&&""==s.cardNumber?e=!1:0==s.payOption&&(e=!1),0==s.cart.length&&(e=!1),e},s.getDeliveryMethodName=function(){for(var e=0;e<s.deliveryOptions.length;++e)if(s.deliveryOptions[e].id==s.deliveryOption)return s.deliveryOptions[e].name},s.getPayMethodName=function(){for(var e=0;e<s.paymentOptions.length;++e)if(s.paymentOptions[e].id==s.payOption)return s.paymentOptions[e].name},s.placeOrder=function(){var e={orderId:"",orderNumber:0,userId:"Guest User",timestamp:Date.now(),orderType:{id:s.deliveryOption,name:s.getDeliveryMethodName()},paymentMethod:{id:s.payOption,name:s.getPayMethodName()},orderStatus:{id:1,name:"Placed"},cardNumber:s.cardNumber,address:{street:s.street,city:s.city,state:s.state,zip:s.zip},orderItems:s.cart,price:s.calculateCartTotal()};r.post("/placeOrder",e).then(function(e){200==e.status?(o.setOrder(e.data),o.clearCart(),o.clearCustomPizza(),a.success("Order Placed","Success!"),n.url("/order/summary")):a.error("Error placing order","Error")},function(e){a.error(e.data.message,"Error")})},i()}var r=angular.module("order");r.component("ordering",{templateUrl:"js/order/ordering.template.html",controller:"OrderingController"}),r.controller("OrderingController",e),e.$inject=["$rootScope","$http","$filter","$location","orderingService","toastr"]}(),function(){"use-strict";function e(){var e=this;e.order=null,e.cart=null,e.customPizza=null,e.setCustomPizza=function(r){e.customPizza=r},e.getCustomPizza=function(){return e.customPizza},e.clearCustomPizza=function(){e.customPizza=null},e.setCart=function(r){e.cart=r},e.getCart=function(){return e.cart},e.clearCart=function(){e.cart=null},e.setOrder=function(r){e.order=r},e.getOrder=function(){return e.order},e.clearOrder=function(){e.order=null}}var r=angular.module("Super8PizzaApp");r.service("orderingService",e),e.$inject=[]}(),function(){"use-strict";function e(e){function r(){e.get("/getCompleteOrders").then(function(e){t.completedOrders=e.data})}var t=this;t.completedOrders=[],t.filterBy="",r()}var r=angular.module("orderManagement");r.component("orderHistory",{templateUrl:"js/order_management/order.history.template.html",controller:"OrderHistoryController"}),r.controller("OrderHistoryController",e),e.$inject=["$http"]}(),function(){"use-strict";function e(e,r){function t(){n.getOpenOrders(),e.get("/getOrderStatusOptions").then(function(e){n.statuses=e.data})}var n=this;n.orders=[],n.statuses=[],n.filterBy="",n.setStatus=function(t){e.post("/setOrderStatus",t).then(function(e){200==e.status?(r.success("Updated order "+t.orderNumber+" to "+t.orderStatus.name,"Success!"),n.getOpenOrders()):r.error("Error updating order status","Error")})},n.getOpenOrders=function(){e.get("/getOpenOrders").then(function(e){n.orders=e.data})},t()}var r=angular.module("orderManagement");r.component("orderListing",{templateUrl:"js/order_management/order.listing.template.html",controller:"OrderListingController"}),r.controller("OrderListingController",e),e.$inject=["$http","toastr"]}(),function(){"use-strict";angular.module("orderManagement",[])}(),function(){"use-strict";function e(e,r){function t(){}t()}var r=angular.module("inventoryListing",[]);r.component("inventoryListing",{templateUrl:"js/inventory_management/inventory.listing.template.html",controller:"InventoryListingController"}),r.controller("InventoryListingController",e),e.$inject=["$http","$filter"]}();